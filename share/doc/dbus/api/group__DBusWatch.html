<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>D-Bus: DBusWatch</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">D-Bus<span id="projectnumber">&#160;1.12.6</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search',false);
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">DBusWatch <div class="ingroups"><a class="el" href="group__DBus.html">D-Bus low-level public API</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Object representing a file descriptor to be watched.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga62d7e86fe386ed48fb90d443b3a2ce7a" id="r_ga62d7e86fe386ed48fb90d443b3a2ce7a"><td class="memItemLeft" align="right" valign="top">DBUS_EXPORT <a class="el" href="group__DBusMacros.html#ga7b014fa99f6ef38c1aa5a9c02468e3a0">DBUS_DEPRECATED</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga62d7e86fe386ed48fb90d443b3a2ce7a">dbus_watch_get_fd</a> (<a class="el" href="structDBusWatch.html">DBusWatch</a> *watch)</td></tr>
<tr class="memdesc:ga62d7e86fe386ed48fb90d443b3a2ce7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deprecated former name of <a class="el" href="#ga15df7f6120ead3e09bec8a70d3c43c0d" title="Returns a UNIX file descriptor to be watched, which may be a pipe, socket, or other type of descripto...">dbus_watch_get_unix_fd()</a>.  <br /></td></tr>
<tr class="memitem:ga15df7f6120ead3e09bec8a70d3c43c0d" id="r_ga15df7f6120ead3e09bec8a70d3c43c0d"><td class="memItemLeft" align="right" valign="top">DBUS_EXPORT int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga15df7f6120ead3e09bec8a70d3c43c0d">dbus_watch_get_unix_fd</a> (<a class="el" href="structDBusWatch.html">DBusWatch</a> *watch)</td></tr>
<tr class="memdesc:ga15df7f6120ead3e09bec8a70d3c43c0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a UNIX file descriptor to be watched, which may be a pipe, socket, or other type of descriptor.  <br /></td></tr>
<tr class="memitem:ga91308f393d41b31babda17c83833517f" id="r_ga91308f393d41b31babda17c83833517f"><td class="memItemLeft" align="right" valign="top">DBUS_EXPORT int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga91308f393d41b31babda17c83833517f">dbus_watch_get_socket</a> (<a class="el" href="structDBusWatch.html">DBusWatch</a> *watch)</td></tr>
<tr class="memdesc:ga91308f393d41b31babda17c83833517f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a socket to be watched, on UNIX this will return -1 if our transport is not socket-based so <a class="el" href="#ga15df7f6120ead3e09bec8a70d3c43c0d" title="Returns a UNIX file descriptor to be watched, which may be a pipe, socket, or other type of descripto...">dbus_watch_get_unix_fd()</a> is preferred.  <br /></td></tr>
<tr class="memitem:gaf172a2b1d1f82333e67cec8d99c9204a" id="r_gaf172a2b1d1f82333e67cec8d99c9204a"><td class="memItemLeft" align="right" valign="top">DBUS_EXPORT unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf172a2b1d1f82333e67cec8d99c9204a">dbus_watch_get_flags</a> (<a class="el" href="structDBusWatch.html">DBusWatch</a> *watch)</td></tr>
<tr class="memdesc:gaf172a2b1d1f82333e67cec8d99c9204a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets flags from <a class="el" href="group__DBusConnection.html#ga0556779e61aeb19eb9cf6b6466bd1b98" title="Indicates the status of a DBusWatch.">DBusWatchFlags</a> indicating what conditions should be monitored on the file descriptor.  <br /></td></tr>
<tr class="memitem:ga8dcdbd07f15a56207af4a36cb005da77" id="r_ga8dcdbd07f15a56207af4a36cb005da77"><td class="memItemLeft" align="right" valign="top">DBUS_EXPORT void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8dcdbd07f15a56207af4a36cb005da77">dbus_watch_get_data</a> (<a class="el" href="structDBusWatch.html">DBusWatch</a> *watch)</td></tr>
<tr class="memdesc:ga8dcdbd07f15a56207af4a36cb005da77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets data previously set with <a class="el" href="#ga5c75a65cf0680956cc0188d86a05cfae" title="Sets data which can be retrieved with dbus_watch_get_data().">dbus_watch_set_data()</a> or <a class="el" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4" title="A null pointer, defined appropriately for C or C++.">NULL</a> if none.  <br /></td></tr>
<tr class="memitem:ga5c75a65cf0680956cc0188d86a05cfae" id="r_ga5c75a65cf0680956cc0188d86a05cfae"><td class="memItemLeft" align="right" valign="top">DBUS_EXPORT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5c75a65cf0680956cc0188d86a05cfae">dbus_watch_set_data</a> (<a class="el" href="structDBusWatch.html">DBusWatch</a> *watch, void *data, <a class="el" href="group__DBusMemory.html#ga85c715cb9647ed7bc14582f8b7eafad5">DBusFreeFunction</a> free_data_function)</td></tr>
<tr class="memdesc:ga5c75a65cf0680956cc0188d86a05cfae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets data which can be retrieved with <a class="el" href="#ga8dcdbd07f15a56207af4a36cb005da77" title="Gets data previously set with dbus_watch_set_data() or NULL if none.">dbus_watch_get_data()</a>.  <br /></td></tr>
<tr class="memitem:gac2acdb1794450ac01a43ec4c3e07ebf7" id="r_gac2acdb1794450ac01a43ec4c3e07ebf7"><td class="memItemLeft" align="right" valign="top">DBUS_EXPORT <a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac2acdb1794450ac01a43ec4c3e07ebf7">dbus_watch_handle</a> (<a class="el" href="structDBusWatch.html">DBusWatch</a> *watch, unsigned int flags)</td></tr>
<tr class="memdesc:gac2acdb1794450ac01a43ec4c3e07ebf7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called to notify the D-Bus library when a previously-added watch is ready for reading or writing, or has an exception such as a hangup.  <br /></td></tr>
<tr class="memitem:gae7a91e6d4d1bc187419c47c522e33a8f" id="r_gae7a91e6d4d1bc187419c47c522e33a8f"><td class="memItemLeft" align="right" valign="top">DBUS_EXPORT <a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae7a91e6d4d1bc187419c47c522e33a8f">dbus_watch_get_enabled</a> (<a class="el" href="structDBusWatch.html">DBusWatch</a> *watch)</td></tr>
<tr class="memdesc:gae7a91e6d4d1bc187419c47c522e33a8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether a watch is enabled or not.  <br /></td></tr>
<tr class="memitem:ga3f4fb8107cc01941d91d4c4914dda115" id="r_ga3f4fb8107cc01941d91d4c4914dda115"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structDBusSocket.html">DBusSocket</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3f4fb8107cc01941d91d4c4914dda115">_dbus_watch_get_socket</a> (<a class="el" href="structDBusWatch.html">DBusWatch</a> *watch)</td></tr>
<tr class="memitem:gafa9065410068af4275c1db0ff777c18a" id="r_gafa9065410068af4275c1db0ff777c18a"><td class="memItemLeft" align="right" valign="top">DBusPollable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafa9065410068af4275c1db0ff777c18a">_dbus_watch_get_pollable</a> (<a class="el" href="structDBusWatch.html">DBusWatch</a> *watch)</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<p>Object representing a file descriptor to be watched. </p>
<p>Types and functions related to <a class="el" href="structDBusWatch.html" title="Implementation of DBusWatch.">DBusWatch</a>. A watch represents a file descriptor that the main loop needs to monitor, as in Qt's QSocketNotifier or GLib's g_io_add_watch().</p>
<p>Use <a class="el" href="group__DBusConnection.html#gaebf031eb444b4f847606aa27daa3d8e6" title="Sets the watch functions for the connection.">dbus_connection_set_watch_functions()</a> or <a class="el" href="group__DBusServer.html#gaa5723810ea52e9f1815062fd91395892" title="Sets the watch functions for the server.">dbus_server_set_watch_functions()</a> to be notified when libdbus needs to add or remove watches. </p>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="gafa9065410068af4275c1db0ff777c18a" name="gafa9065410068af4275c1db0ff777c18a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafa9065410068af4275c1db0ff777c18a">&#9670;&#160;</a></span>_dbus_watch_get_pollable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DBusPollable _dbus_watch_get_pollable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusWatch.html">DBusWatch</a> *</td>          <td class="paramname"><span class="paramname"><em>watch</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dbus-watch_8c_source.html#l00622">622</a> of file <a class="el" href="dbus-watch_8c_source.html">dbus-watch.c</a>.</p>

</div>
</div>
<a id="ga3f4fb8107cc01941d91d4c4914dda115" name="ga3f4fb8107cc01941d91d4c4914dda115"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3f4fb8107cc01941d91d4c4914dda115">&#9670;&#160;</a></span>_dbus_watch_get_socket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDBusSocket.html">DBusSocket</a> _dbus_watch_get_socket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusWatch.html">DBusWatch</a> *</td>          <td class="paramname"><span class="paramname"><em>watch</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dbus-watch_8c_source.html#l00606">606</a> of file <a class="el" href="dbus-watch_8c_source.html">dbus-watch.c</a>.</p>

</div>
</div>
<a id="ga8dcdbd07f15a56207af4a36cb005da77" name="ga8dcdbd07f15a56207af4a36cb005da77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8dcdbd07f15a56207af4a36cb005da77">&#9670;&#160;</a></span>dbus_watch_get_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * dbus_watch_get_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusWatch.html">DBusWatch</a> *</td>          <td class="paramname"><span class="paramname"><em>watch</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets data previously set with <a class="el" href="#ga5c75a65cf0680956cc0188d86a05cfae" title="Sets data which can be retrieved with dbus_watch_get_data().">dbus_watch_set_data()</a> or <a class="el" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4" title="A null pointer, defined appropriately for C or C++.">NULL</a> if none. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">watch</td><td>the <a class="el" href="structDBusWatch.html" title="Implementation of DBusWatch.">DBusWatch</a> object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>previously-set data. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dbus-watch_8c_source.html#l00659">659</a> of file <a class="el" href="dbus-watch_8c_source.html">dbus-watch.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-watch_8c_source.html#l00050">DBusWatch::data</a>, and <a class="el" href="dbus-macros_8h_source.html#l00049">NULL</a>.</p>

</div>
</div>
<a id="gae7a91e6d4d1bc187419c47c522e33a8f" name="gae7a91e6d4d1bc187419c47c522e33a8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae7a91e6d4d1bc187419c47c522e33a8f">&#9670;&#160;</a></span>dbus_watch_get_enabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a> dbus_watch_get_enabled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusWatch.html">DBusWatch</a> *</td>          <td class="paramname"><span class="paramname"><em>watch</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns whether a watch is enabled or not. </p>
<p>If not enabled, it should not be polled by the main loop.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">watch</td><td>the <a class="el" href="structDBusWatch.html" title="Implementation of DBusWatch.">DBusWatch</a> object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d" title="Expands to &quot;1&quot;.">TRUE</a> if the watch is enabled </dd></dl>

<p class="definition">Definition at line <a class="el" href="dbus-watch_8c_source.html#l00703">703</a> of file <a class="el" href="dbus-watch_8c_source.html">dbus-watch.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-watch_8c_source.html#l00052">DBusWatch::enabled</a>, <a class="el" href="dbus-macros_8h_source.html#l00042">FALSE</a>, and <a class="el" href="dbus-macros_8h_source.html#l00049">NULL</a>.</p>

</div>
</div>
<a id="ga62d7e86fe386ed48fb90d443b3a2ce7a" name="ga62d7e86fe386ed48fb90d443b3a2ce7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga62d7e86fe386ed48fb90d443b3a2ce7a">&#9670;&#160;</a></span>dbus_watch_get_fd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dbus_watch_get_fd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusWatch.html">DBusWatch</a> *</td>          <td class="paramname"><span class="paramname"><em>watch</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deprecated former name of <a class="el" href="#ga15df7f6120ead3e09bec8a70d3c43c0d" title="Returns a UNIX file descriptor to be watched, which may be a pipe, socket, or other type of descripto...">dbus_watch_get_unix_fd()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">watch</td><td>the <a class="el" href="structDBusWatch.html" title="Implementation of DBusWatch.">DBusWatch</a> object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the file descriptor to watch. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dbus-watch_8c_source.html#l00544">544</a> of file <a class="el" href="dbus-watch_8c_source.html">dbus-watch.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-watch_8c_source.html#l00565">dbus_watch_get_unix_fd()</a>, and <a class="el" href="dbus-macros_8h_source.html#l00049">NULL</a>.</p>

</div>
</div>
<a id="gaf172a2b1d1f82333e67cec8d99c9204a" name="gaf172a2b1d1f82333e67cec8d99c9204a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf172a2b1d1f82333e67cec8d99c9204a">&#9670;&#160;</a></span>dbus_watch_get_flags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int dbus_watch_get_flags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusWatch.html">DBusWatch</a> *</td>          <td class="paramname"><span class="paramname"><em>watch</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets flags from <a class="el" href="group__DBusConnection.html#ga0556779e61aeb19eb9cf6b6466bd1b98" title="Indicates the status of a DBusWatch.">DBusWatchFlags</a> indicating what conditions should be monitored on the file descriptor. </p>
<p>The flags returned will only contain DBUS_WATCH_READABLE and DBUS_WATCH_WRITABLE, never DBUS_WATCH_HANGUP or DBUS_WATCH_ERROR; all watches implicitly include a watch for hangups, errors, and other exceptional conditions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">watch</td><td>the <a class="el" href="structDBusWatch.html" title="Implementation of DBusWatch.">DBusWatch</a> object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the conditions to watch. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dbus-watch_8c_source.html#l00643">643</a> of file <a class="el" href="dbus-watch_8c_source.html">dbus-watch.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-internals_8h_source.html#l00152">_dbus_assert</a>, <a class="el" href="dbus-watch_8c_source.html#l00044">DBusWatch::flags</a>, and <a class="el" href="dbus-macros_8h_source.html#l00049">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="dbus-watch_8c_source.html#l00296">_dbus_watch_list_set_functions()</a>.</p>

</div>
</div>
<a id="ga91308f393d41b31babda17c83833517f" name="ga91308f393d41b31babda17c83833517f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga91308f393d41b31babda17c83833517f">&#9670;&#160;</a></span>dbus_watch_get_socket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dbus_watch_get_socket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusWatch.html">DBusWatch</a> *</td>          <td class="paramname"><span class="paramname"><em>watch</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a socket to be watched, on UNIX this will return -1 if our transport is not socket-based so <a class="el" href="#ga15df7f6120ead3e09bec8a70d3c43c0d" title="Returns a UNIX file descriptor to be watched, which may be a pipe, socket, or other type of descripto...">dbus_watch_get_unix_fd()</a> is preferred. </p>
<p>On Windows, <a class="el" href="#ga15df7f6120ead3e09bec8a70d3c43c0d" title="Returns a UNIX file descriptor to be watched, which may be a pipe, socket, or other type of descripto...">dbus_watch_get_unix_fd()</a> returns -1 but this function returns a Winsock socket (assuming the transport is socket-based, as it always is for now).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">watch</td><td>the <a class="el" href="structDBusWatch.html" title="Implementation of DBusWatch.">DBusWatch</a> object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the socket to watch. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dbus-watch_8c_source.html#l00594">594</a> of file <a class="el" href="dbus-watch_8c_source.html">dbus-watch.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-watch_8c_source.html#l00043">DBusWatch::fd</a>, and <a class="el" href="dbus-macros_8h_source.html#l00049">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="dbus-transport_8c_source.html#l00904">_dbus_transport_handle_watch()</a>, and <a class="el" href="dbus-watch_8c_source.html#l00565">dbus_watch_get_unix_fd()</a>.</p>

</div>
</div>
<a id="ga15df7f6120ead3e09bec8a70d3c43c0d" name="ga15df7f6120ead3e09bec8a70d3c43c0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga15df7f6120ead3e09bec8a70d3c43c0d">&#9670;&#160;</a></span>dbus_watch_get_unix_fd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dbus_watch_get_unix_fd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusWatch.html">DBusWatch</a> *</td>          <td class="paramname"><span class="paramname"><em>watch</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a UNIX file descriptor to be watched, which may be a pipe, socket, or other type of descriptor. </p>
<p>On UNIX this is preferred to <a class="el" href="#ga91308f393d41b31babda17c83833517f" title="Returns a socket to be watched, on UNIX this will return -1 if our transport is not socket-based so d...">dbus_watch_get_socket()</a> since it works with more kinds of <a class="el" href="structDBusWatch.html" title="Implementation of DBusWatch.">DBusWatch</a>.</p>
<p>Always returns -1 on Windows. On Windows you use <a class="el" href="#ga91308f393d41b31babda17c83833517f" title="Returns a socket to be watched, on UNIX this will return -1 if our transport is not socket-based so d...">dbus_watch_get_socket()</a> to get a Winsock socket to watch.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">watch</td><td>the <a class="el" href="structDBusWatch.html" title="Implementation of DBusWatch.">DBusWatch</a> object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the file descriptor to watch. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dbus-watch_8c_source.html#l00565">565</a> of file <a class="el" href="dbus-watch_8c_source.html">dbus-watch.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-watch_8c_source.html#l00594">dbus_watch_get_socket()</a>, <a class="el" href="dbus-watch_8c_source.html#l00043">DBusWatch::fd</a>, and <a class="el" href="dbus-macros_8h_source.html#l00049">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="dbus-watch_8c_source.html#l00544">dbus_watch_get_fd()</a>.</p>

</div>
</div>
<a id="gac2acdb1794450ac01a43ec4c3e07ebf7" name="gac2acdb1794450ac01a43ec4c3e07ebf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac2acdb1794450ac01a43ec4c3e07ebf7">&#9670;&#160;</a></span>dbus_watch_handle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a> dbus_watch_handle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusWatch.html">DBusWatch</a> *</td>          <td class="paramname"><span class="paramname"><em>watch</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called to notify the D-Bus library when a previously-added watch is ready for reading or writing, or has an exception such as a hangup. </p>
<p>If this function returns <a class="el" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1" title="Expands to &quot;0&quot;.">FALSE</a>, then the file descriptor may still be ready for reading or writing, but more memory is needed in order to do the reading or writing. If you ignore the <a class="el" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1" title="Expands to &quot;0&quot;.">FALSE</a> return, your application may spin in a busy loop on the file descriptor until memory becomes available, but nothing more catastrophic should happen.</p>
<p><a class="el" href="#gac2acdb1794450ac01a43ec4c3e07ebf7" title="Called to notify the D-Bus library when a previously-added watch is ready for reading or writing,...">dbus_watch_handle()</a> cannot be called during the <a class="el" href="group__DBusConnection.html#ga632c59364661602111278efd6a10d3aa" title="Called when libdbus needs a new watch to be monitored by the main loop.">DBusAddWatchFunction</a>, as the connection will not be ready to handle that watch yet.</p>
<p>It is not allowed to reference a <a class="el" href="structDBusWatch.html" title="Implementation of DBusWatch.">DBusWatch</a> after it has been passed to remove_function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">watch</td><td>the <a class="el" href="structDBusWatch.html" title="Implementation of DBusWatch.">DBusWatch</a> object. </td></tr>
    <tr><td class="paramname">flags</td><td>the poll condition using <a class="el" href="group__DBusConnection.html#ga0556779e61aeb19eb9cf6b6466bd1b98" title="Indicates the status of a DBusWatch.">DBusWatchFlags</a> values </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1" title="Expands to &quot;0&quot;.">FALSE</a> if there wasn't enough memory </dd></dl>

<p class="definition">Definition at line <a class="el" href="dbus-watch_8c_source.html#l00734">734</a> of file <a class="el" href="dbus-watch_8c_source.html">dbus-watch.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-internals_8c_source.html#l00262">_dbus_warn_check_failed()</a>, <a class="el" href="dbus-watch_8c_source.html#l00185">_dbus_watch_sanitize_condition()</a>, <a class="el" href="dbus-macros_8h_source.html#l00042">FALSE</a>, <a class="el" href="dbus-watch_8c_source.html#l00043">DBusWatch::fd</a>, <a class="el" href="dbus-watch_8c_source.html#l00044">DBusWatch::flags</a>, <a class="el" href="dbus-watch_8c_source.html#l00046">DBusWatch::handler</a>, <a class="el" href="dbus-watch_8c_source.html#l00047">DBusWatch::handler_data</a>, <a class="el" href="dbus-macros_8h_source.html#l00049">NULL</a>, and <a class="el" href="dbus-macros_8h_source.html#l00039">TRUE</a>.</p>

</div>
</div>
<a id="ga5c75a65cf0680956cc0188d86a05cfae" name="ga5c75a65cf0680956cc0188d86a05cfae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5c75a65cf0680956cc0188d86a05cfae">&#9670;&#160;</a></span>dbus_watch_set_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dbus_watch_set_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusWatch.html">DBusWatch</a> *</td>          <td class="paramname"><span class="paramname"><em>watch</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DBusMemory.html#ga85c715cb9647ed7bc14582f8b7eafad5">DBusFreeFunction</a></td>          <td class="paramname"><span class="paramname"><em>free_data_function</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets data which can be retrieved with <a class="el" href="#ga8dcdbd07f15a56207af4a36cb005da77" title="Gets data previously set with dbus_watch_set_data() or NULL if none.">dbus_watch_get_data()</a>. </p>
<p>Intended for use by the <a class="el" href="group__DBusConnection.html#ga632c59364661602111278efd6a10d3aa" title="Called when libdbus needs a new watch to be monitored by the main loop.">DBusAddWatchFunction</a> and <a class="el" href="group__DBusConnection.html#gab99c5eeb90a30ec49cc2bdbb2e965b75" title="Called when libdbus no longer needs a watch to be monitored by the main loop.">DBusRemoveWatchFunction</a> to store their own data. For example with Qt you might store the QSocketNotifier for this watch and with GLib you might store a GSource.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">watch</td><td>the <a class="el" href="structDBusWatch.html" title="Implementation of DBusWatch.">DBusWatch</a> object. </td></tr>
    <tr><td class="paramname">data</td><td>the data. </td></tr>
    <tr><td class="paramname">free_data_function</td><td>function to be called to free the data. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbus-watch_8c_source.html#l00678">678</a> of file <a class="el" href="dbus-watch_8c_source.html">dbus-watch.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-watch_8c_source.html#l00050">DBusWatch::data</a>, <a class="el" href="dbus-watch_8c_source.html#l00043">DBusWatch::fd</a>, <a class="el" href="dbus-watch_8c_source.html#l00051">DBusWatch::free_data_function</a>, and <a class="el" href="dbus-macros_8h_source.html#l00049">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="dbus-watch_8c_source.html#l00138">_dbus_watch_unref()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
