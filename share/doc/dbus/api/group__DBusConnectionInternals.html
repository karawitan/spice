<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>D-Bus: DBusConnection implementation details</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">D-Bus<span id="projectnumber">&#160;1.12.6</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search',false);
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">DBusConnection implementation details <div class="ingroups"><a class="el" href="group__DBusInternals.html">D-Bus secret internal implementation details</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Implementation details of <a class="el" href="structDBusConnection.html" title="Implementation details of DBusConnection.">DBusConnection</a>.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:DBusMessageFilter" id="r_DBusMessageFilter"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDBusMessageFilter.html">DBusMessageFilter</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal struct representing a message filter function.  <a href="structDBusMessageFilter.html#details">More...</a><br /></td></tr>
<tr class="memitem:DBusPreallocatedSend" id="r_DBusPreallocatedSend"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDBusPreallocatedSend.html">DBusPreallocatedSend</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internals of <a class="el" href="structDBusPreallocatedSend.html" title="Internals of DBusPreallocatedSend.">DBusPreallocatedSend</a>.  <a href="structDBusPreallocatedSend.html#details">More...</a><br /></td></tr>
<tr class="memitem:DBusConnection" id="r_DBusConnection"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDBusConnection.html">DBusConnection</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation details of <a class="el" href="structDBusConnection.html" title="Implementation details of DBusConnection.">DBusConnection</a>.  <a href="structDBusConnection.html#details">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-typedef-members" class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaec8158f55878d1a6459ebdc9950fa783" id="r_gaec8158f55878d1a6459ebdc9950fa783"><td class="memItemLeft" align="right" valign="top">typedef struct DBusMessageFilter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaec8158f55878d1a6459ebdc9950fa783">DBusMessageFilter</a></td></tr>
<tr class="memdesc:gaec8158f55878d1a6459ebdc9950fa783"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal struct representing a message filter function.  <br /></td></tr>
<tr class="memitem:gacec4220795b4d31e77547dcbcdecdb53" id="r_gacec4220795b4d31e77547dcbcdecdb53"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gacec4220795b4d31e77547dcbcdecdb53">DBusWatchAddFunction</a>) (<a class="el" href="structDBusWatchList.html">DBusWatchList</a> *list, <a class="el" href="structDBusWatch.html">DBusWatch</a> *watch)</td></tr>
<tr class="memdesc:gacec4220795b4d31e77547dcbcdecdb53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to be called in protected_change_watch() with refcount held.  <br /></td></tr>
<tr class="memitem:ga3d3f6c25b94c857059e816dcb1f5629e" id="r_ga3d3f6c25b94c857059e816dcb1f5629e"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3d3f6c25b94c857059e816dcb1f5629e">DBusWatchRemoveFunction</a>) (<a class="el" href="structDBusWatchList.html">DBusWatchList</a> *list, <a class="el" href="structDBusWatch.html">DBusWatch</a> *watch)</td></tr>
<tr class="memdesc:ga3d3f6c25b94c857059e816dcb1f5629e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to be called in protected_change_watch() with refcount held.  <br /></td></tr>
<tr class="memitem:gabd9d6416ed2bb1abc881123249d91b9b" id="r_gabd9d6416ed2bb1abc881123249d91b9b"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gabd9d6416ed2bb1abc881123249d91b9b">DBusWatchToggleFunction</a>) (<a class="el" href="structDBusWatchList.html">DBusWatchList</a> *list, <a class="el" href="structDBusWatch.html">DBusWatch</a> *watch, <a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a> enabled)</td></tr>
<tr class="memdesc:gabd9d6416ed2bb1abc881123249d91b9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to be called in protected_change_watch() with refcount held.  <br /></td></tr>
<tr class="memitem:gaaae2977e5da448c2aa90dcf0b8fc6b2f" id="r_gaaae2977e5da448c2aa90dcf0b8fc6b2f"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaaae2977e5da448c2aa90dcf0b8fc6b2f">DBusTimeoutAddFunction</a>) (<a class="el" href="structDBusTimeoutList.html">DBusTimeoutList</a> *list, <a class="el" href="structDBusTimeout.html">DBusTimeout</a> *timeout)</td></tr>
<tr class="memdesc:gaaae2977e5da448c2aa90dcf0b8fc6b2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to be called in protected_change_timeout() with refcount held.  <br /></td></tr>
<tr class="memitem:ga7d326b67ddbbf2fdb63cdc13f1cbb129" id="r_ga7d326b67ddbbf2fdb63cdc13f1cbb129"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7d326b67ddbbf2fdb63cdc13f1cbb129">DBusTimeoutRemoveFunction</a>) (<a class="el" href="structDBusTimeoutList.html">DBusTimeoutList</a> *list, <a class="el" href="structDBusTimeout.html">DBusTimeout</a> *timeout)</td></tr>
<tr class="memdesc:ga7d326b67ddbbf2fdb63cdc13f1cbb129"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to be called in protected_change_timeout() with refcount held.  <br /></td></tr>
<tr class="memitem:ga775e02883191ec762f386d0953fd6308" id="r_ga775e02883191ec762f386d0953fd6308"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga775e02883191ec762f386d0953fd6308">DBusTimeoutToggleFunction</a>) (<a class="el" href="structDBusTimeoutList.html">DBusTimeoutList</a> *list, <a class="el" href="structDBusTimeout.html">DBusTimeout</a> *timeout, <a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a> enabled)</td></tr>
<tr class="memdesc:ga775e02883191ec762f386d0953fd6308"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to be called in protected_change_timeout() with refcount held.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga4fe0c8f7b72dc89b9e1a3110db2f778e" id="r_ga4fe0c8f7b72dc89b9e1a3110db2f778e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4fe0c8f7b72dc89b9e1a3110db2f778e">_dbus_connection_lock</a> (<a class="el" href="structDBusConnection.html">DBusConnection</a> *connection)</td></tr>
<tr class="memdesc:ga4fe0c8f7b72dc89b9e1a3110db2f778e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquires the connection lock.  <br /></td></tr>
<tr class="memitem:ga3db10d48ec16e485d5a638aacebd4ad2" id="r_ga3db10d48ec16e485d5a638aacebd4ad2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3db10d48ec16e485d5a638aacebd4ad2">_dbus_connection_unlock</a> (<a class="el" href="structDBusConnection.html">DBusConnection</a> *connection)</td></tr>
<tr class="memdesc:ga3db10d48ec16e485d5a638aacebd4ad2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases the connection lock.  <br /></td></tr>
<tr class="memitem:gac1b92eba0aeee294dc28fcc260c9b749" id="r_gac1b92eba0aeee294dc28fcc260c9b749"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac1b92eba0aeee294dc28fcc260c9b749">_dbus_connection_queue_received_message_link</a> (<a class="el" href="structDBusConnection.html">DBusConnection</a> *connection, <a class="el" href="structDBusList.html">DBusList</a> *link)</td></tr>
<tr class="memdesc:gac1b92eba0aeee294dc28fcc260c9b749"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a message-containing list link to the incoming message queue, taking ownership of the link and the message's current refcount.  <br /></td></tr>
<tr class="memitem:gadb7a525dc6b566b575ee4f9b20028b04" id="r_gadb7a525dc6b566b575ee4f9b20028b04"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gadb7a525dc6b566b575ee4f9b20028b04">_dbus_connection_queue_synthesized_message_link</a> (<a class="el" href="structDBusConnection.html">DBusConnection</a> *connection, <a class="el" href="structDBusList.html">DBusList</a> *link)</td></tr>
<tr class="memdesc:gadb7a525dc6b566b575ee4f9b20028b04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a link + message to the incoming message queue.  <br /></td></tr>
<tr class="memitem:ga3d31a01751860b67f960dcaffb7bb4ef" id="r_ga3d31a01751860b67f960dcaffb7bb4ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3d31a01751860b67f960dcaffb7bb4ef">_dbus_connection_has_messages_to_send_unlocked</a> (<a class="el" href="structDBusConnection.html">DBusConnection</a> *connection)</td></tr>
<tr class="memdesc:ga3d31a01751860b67f960dcaffb7bb4ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether there are messages in the outgoing message queue.  <br /></td></tr>
<tr class="memitem:ga2210bb5734c1a04d0d654b026f27d94e" id="r_ga2210bb5734c1a04d0d654b026f27d94e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2210bb5734c1a04d0d654b026f27d94e">dbus_connection_has_messages_to_send</a> (<a class="el" href="structDBusConnection.html">DBusConnection</a> *connection)</td></tr>
<tr class="memdesc:ga2210bb5734c1a04d0d654b026f27d94e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether there are messages in the outgoing message queue.  <br /></td></tr>
<tr class="memitem:gaa70037deabe2f362a479d859823918f3" id="r_gaa70037deabe2f362a479d859823918f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structDBusMessage.html">DBusMessage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa70037deabe2f362a479d859823918f3">_dbus_connection_get_message_to_send</a> (<a class="el" href="structDBusConnection.html">DBusConnection</a> *connection)</td></tr>
<tr class="memdesc:gaa70037deabe2f362a479d859823918f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the next outgoing message.  <br /></td></tr>
<tr class="memitem:gab93fd3666217ee339c4d2e8d4d33e63c" id="r_gab93fd3666217ee339c4d2e8d4d33e63c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab93fd3666217ee339c4d2e8d4d33e63c">_dbus_connection_message_sent_unlocked</a> (<a class="el" href="structDBusConnection.html">DBusConnection</a> *connection, <a class="el" href="structDBusMessage.html">DBusMessage</a> *message)</td></tr>
<tr class="memdesc:gab93fd3666217ee339c4d2e8d4d33e63c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies the connection that a message has been sent, so the message can be removed from the outgoing queue.  <br /></td></tr>
<tr class="memitem:ga82adef36b4cd583bc1146eae5756c063" id="r_ga82adef36b4cd583bc1146eae5756c063"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga82adef36b4cd583bc1146eae5756c063">_dbus_connection_add_watch_unlocked</a> (<a class="el" href="structDBusConnection.html">DBusConnection</a> *connection, <a class="el" href="structDBusWatch.html">DBusWatch</a> *watch)</td></tr>
<tr class="memdesc:ga82adef36b4cd583bc1146eae5756c063"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a watch using the connection's <a class="el" href="group__DBusConnection.html#ga632c59364661602111278efd6a10d3aa" title="Called when libdbus needs a new watch to be monitored by the main loop.">DBusAddWatchFunction</a> if available.  <br /></td></tr>
<tr class="memitem:ga65fc02c0756d0c7caaa39cd60922c99b" id="r_ga65fc02c0756d0c7caaa39cd60922c99b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga65fc02c0756d0c7caaa39cd60922c99b">_dbus_connection_remove_watch_unlocked</a> (<a class="el" href="structDBusConnection.html">DBusConnection</a> *connection, <a class="el" href="structDBusWatch.html">DBusWatch</a> *watch)</td></tr>
<tr class="memdesc:ga65fc02c0756d0c7caaa39cd60922c99b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a watch using the connection's <a class="el" href="group__DBusConnection.html#gab99c5eeb90a30ec49cc2bdbb2e965b75" title="Called when libdbus no longer needs a watch to be monitored by the main loop.">DBusRemoveWatchFunction</a> if available.  <br /></td></tr>
<tr class="memitem:ga6c00e2eaf225b154760976af5688d250" id="r_ga6c00e2eaf225b154760976af5688d250"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6c00e2eaf225b154760976af5688d250">_dbus_connection_toggle_watch_unlocked</a> (<a class="el" href="structDBusConnection.html">DBusConnection</a> *connection, <a class="el" href="structDBusWatch.html">DBusWatch</a> *watch, <a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a> enabled)</td></tr>
<tr class="memdesc:ga6c00e2eaf225b154760976af5688d250"><td class="mdescLeft">&#160;</td><td class="mdescRight">Toggles a watch and notifies app via connection's <a class="el" href="group__DBusConnection.html#ga08cb6a64fbd538ac30a8dd00ba19cd95" title="Called when dbus_watch_get_enabled() may return a different value than it did before.">DBusWatchToggledFunction</a> if available.  <br /></td></tr>
<tr class="memitem:ga69e87e3be94b8c681585ec870e39a64a" id="r_ga69e87e3be94b8c681585ec870e39a64a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga69e87e3be94b8c681585ec870e39a64a">_dbus_connection_add_timeout_unlocked</a> (<a class="el" href="structDBusConnection.html">DBusConnection</a> *connection, <a class="el" href="structDBusTimeout.html">DBusTimeout</a> *timeout)</td></tr>
<tr class="memdesc:ga69e87e3be94b8c681585ec870e39a64a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a timeout using the connection's <a class="el" href="group__DBusConnection.html#ga7fad164617baf483b39f3e3ea1c30a40" title="Called when libdbus needs a new timeout to be monitored by the main loop.">DBusAddTimeoutFunction</a> if available.  <br /></td></tr>
<tr class="memitem:gabaa6d26f6eca30782904af1ceb703bd1" id="r_gabaa6d26f6eca30782904af1ceb703bd1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gabaa6d26f6eca30782904af1ceb703bd1">_dbus_connection_remove_timeout_unlocked</a> (<a class="el" href="structDBusConnection.html">DBusConnection</a> *connection, <a class="el" href="structDBusTimeout.html">DBusTimeout</a> *timeout)</td></tr>
<tr class="memdesc:gabaa6d26f6eca30782904af1ceb703bd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a timeout using the connection's <a class="el" href="group__DBusConnection.html#gaed317fe6f12e65586a50e1d1d2ea96b7" title="Called when libdbus no longer needs a timeout to be monitored by the main loop.">DBusRemoveTimeoutFunction</a> if available.  <br /></td></tr>
<tr class="memitem:ga165dcfd8b995ff0edd19aebcf3e1a61a" id="r_ga165dcfd8b995ff0edd19aebcf3e1a61a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga165dcfd8b995ff0edd19aebcf3e1a61a">_dbus_connection_toggle_timeout_unlocked</a> (<a class="el" href="structDBusConnection.html">DBusConnection</a> *connection, <a class="el" href="structDBusTimeout.html">DBusTimeout</a> *timeout, <a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a> enabled)</td></tr>
<tr class="memdesc:ga165dcfd8b995ff0edd19aebcf3e1a61a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Toggles a timeout and notifies app via connection's <a class="el" href="group__DBusConnection.html#ga65ee05019d4ee6d7c665ec829cd4414a" title="Called when dbus_timeout_get_enabled() may return a different value than it did before.">DBusTimeoutToggledFunction</a> if available.  <br /></td></tr>
<tr class="memitem:ga968196bee49659e75c54b53d7c85fa51" id="r_ga968196bee49659e75c54b53d7c85fa51"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga968196bee49659e75c54b53d7c85fa51">_dbus_connection_remove_pending_call</a> (<a class="el" href="structDBusConnection.html">DBusConnection</a> *connection, <a class="el" href="structDBusPendingCall.html">DBusPendingCall</a> *pending)</td></tr>
<tr class="memdesc:ga968196bee49659e75c54b53d7c85fa51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a pending call from the connection, such that the pending reply will be ignored.  <br /></td></tr>
<tr class="memitem:ga283f0254537c4bf4453dbed6fad2e21e" id="r_ga283f0254537c4bf4453dbed6fad2e21e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga283f0254537c4bf4453dbed6fad2e21e">_dbus_connection_do_iteration_unlocked</a> (<a class="el" href="structDBusConnection.html">DBusConnection</a> *connection, <a class="el" href="structDBusPendingCall.html">DBusPendingCall</a> *pending, unsigned int flags, int timeout_milliseconds)</td></tr>
<tr class="memdesc:ga283f0254537c4bf4453dbed6fad2e21e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queues incoming messages and sends outgoing messages for this connection, optionally blocking in the process.  <br /></td></tr>
<tr class="memitem:ga349cb271344a906525242681d54f03f5" id="r_ga349cb271344a906525242681d54f03f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structDBusConnection.html">DBusConnection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga349cb271344a906525242681d54f03f5">_dbus_connection_new_for_transport</a> (<a class="el" href="structDBusTransport.html">DBusTransport</a> *transport)</td></tr>
<tr class="memdesc:ga349cb271344a906525242681d54f03f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new connection for the given transport.  <br /></td></tr>
<tr class="memitem:gae2e4d7af6d1244c1c4c40744253c9cc9" id="r_gae2e4d7af6d1244c1c4c40744253c9cc9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structDBusConnection.html">DBusConnection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae2e4d7af6d1244c1c4c40744253c9cc9">_dbus_connection_ref_unlocked</a> (<a class="el" href="structDBusConnection.html">DBusConnection</a> *connection)</td></tr>
<tr class="memdesc:gae2e4d7af6d1244c1c4c40744253c9cc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increments the reference count of a <a class="el" href="structDBusConnection.html" title="Implementation details of DBusConnection.">DBusConnection</a>.  <br /></td></tr>
<tr class="memitem:ga9ffbd9aa4f07cb30d92887e956a9fd43" id="r_ga9ffbd9aa4f07cb30d92887e956a9fd43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9ffbd9aa4f07cb30d92887e956a9fd43">_dbus_connection_unref_unlocked</a> (<a class="el" href="structDBusConnection.html">DBusConnection</a> *connection)</td></tr>
<tr class="memdesc:ga9ffbd9aa4f07cb30d92887e956a9fd43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrements the reference count of a <a class="el" href="structDBusConnection.html" title="Implementation details of DBusConnection.">DBusConnection</a>.  <br /></td></tr>
<tr class="memitem:ga12756797bd5c1918aa065f9c37ed7bba" id="r_ga12756797bd5c1918aa065f9c37ed7bba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga12756797bd5c1918aa065f9c37ed7bba">_dbus_connection_handle_watch</a> (<a class="el" href="structDBusWatch.html">DBusWatch</a> *watch, unsigned int condition, void *data)</td></tr>
<tr class="memdesc:ga12756797bd5c1918aa065f9c37ed7bba"><td class="mdescLeft">&#160;</td><td class="mdescRight">A callback for use with dbus_watch_new() to create a <a class="el" href="structDBusWatch.html" title="Implementation of DBusWatch.">DBusWatch</a>.  <br /></td></tr>
<tr class="memitem:gadc46f7abfe925f9860fc8c64aeb29ad2" id="r_gadc46f7abfe925f9860fc8c64aeb29ad2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gadc46f7abfe925f9860fc8c64aeb29ad2">_dbus_connection_close_possibly_shared</a> (<a class="el" href="structDBusConnection.html">DBusConnection</a> *connection)</td></tr>
<tr class="memdesc:gadc46f7abfe925f9860fc8c64aeb29ad2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes a shared OR private connection, while <a class="el" href="group__DBusConnection.html#ga2522ac5075dfe0a1535471f6e045e1ee" title="Closes a private connection, so no further data can be sent or received.">dbus_connection_close()</a> can only be used on private connections.  <br /></td></tr>
<tr class="memitem:ga2974eb1c261305fafc635e14fc575d03" id="r_ga2974eb1c261305fafc635e14fc575d03"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2974eb1c261305fafc635e14fc575d03">_dbus_connection_send_and_unlock</a> (<a class="el" href="structDBusConnection.html">DBusConnection</a> *connection, <a class="el" href="structDBusMessage.html">DBusMessage</a> *message, dbus_uint32_t *client_serial)</td></tr>
<tr class="memdesc:ga2974eb1c261305fafc635e14fc575d03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Like <a class="el" href="group__DBusConnection.html#gae1cb64f4cf550949b23fd3a756b2f7d0" title="Adds a message to the outgoing message queue.">dbus_connection_send()</a>, but assumes the connection is already locked on function entry, and unlocks before returning.  <br /></td></tr>
<tr class="memitem:ga9f9665902c763bd1ddf9d9bc57d7a7ba" id="r_ga9f9665902c763bd1ddf9d9bc57d7a7ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9f9665902c763bd1ddf9d9bc57d7a7ba">_dbus_connection_close_if_only_one_ref</a> (<a class="el" href="structDBusConnection.html">DBusConnection</a> *connection)</td></tr>
<tr class="memdesc:ga9f9665902c763bd1ddf9d9bc57d7a7ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used internally to handle the semantics of <a class="el" href="group__DBusServer.html#gaa14d9109e04adccffd9a40460c28c53b" title="Sets a function to be used for handling new connections.">dbus_server_set_new_connection_function()</a>.  <br /></td></tr>
<tr class="memitem:gad5e725e66dc16a411544e25675fb9fba" id="r_gad5e725e66dc16a411544e25675fb9fba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad5e725e66dc16a411544e25675fb9fba">_dbus_connection_block_pending_call</a> (<a class="el" href="structDBusPendingCall.html">DBusPendingCall</a> *pending)</td></tr>
<tr class="memdesc:gad5e725e66dc16a411544e25675fb9fba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blocks until a pending call times out or gets a reply.  <br /></td></tr>
<tr class="memitem:gac6dba97d98f486b87468ae8076349a66" id="r_gac6dba97d98f486b87468ae8076349a66"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac6dba97d98f486b87468ae8076349a66">_dbus_connection_get_pending_fds_count</a> (<a class="el" href="structDBusConnection.html">DBusConnection</a> *connection)</td></tr>
<tr class="memdesc:gac6dba97d98f486b87468ae8076349a66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return how many file descriptors are pending in the loader.  <br /></td></tr>
<tr class="memitem:gac84ff2ad1060326f8c1f94a171fefa98" id="r_gac84ff2ad1060326f8c1f94a171fefa98"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac84ff2ad1060326f8c1f94a171fefa98">_dbus_connection_set_pending_fds_function</a> (<a class="el" href="structDBusConnection.html">DBusConnection</a> *connection, DBusPendingFdsChangeFunction callback, void *data)</td></tr>
<tr class="memdesc:gac84ff2ad1060326f8c1f94a171fefa98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a function to be called whenever the number of pending file descriptors in the loader change.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<p>Implementation details of <a class="el" href="structDBusConnection.html" title="Implementation details of DBusConnection.">DBusConnection</a>. </p>
<a name="doc-typedef-members" id="doc-typedef-members"></a><h2 id="header-doc-typedef-members" class="groupheader">Typedef Documentation</h2>
<a id="gaec8158f55878d1a6459ebdc9950fa783" name="gaec8158f55878d1a6459ebdc9950fa783"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaec8158f55878d1a6459ebdc9950fa783">&#9670;&#160;</a></span>DBusMessageFilter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct DBusMessageFilter DBusMessageFilter</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Internal struct representing a message filter function. </p>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l00223">223</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

</div>
</div>
<a id="gaaae2977e5da448c2aa90dcf0b8fc6b2f" name="gaaae2977e5da448c2aa90dcf0b8fc6b2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaae2977e5da448c2aa90dcf0b8fc6b2f">&#9670;&#160;</a></span>DBusTimeoutAddFunction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a>(* DBusTimeoutAddFunction) (<a class="el" href="structDBusTimeoutList.html">DBusTimeoutList</a> *list, <a class="el" href="structDBusTimeout.html">DBusTimeout</a> *timeout)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to be called in protected_change_timeout() with refcount held. </p>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l00794">794</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

</div>
</div>
<a id="ga7d326b67ddbbf2fdb63cdc13f1cbb129" name="ga7d326b67ddbbf2fdb63cdc13f1cbb129"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7d326b67ddbbf2fdb63cdc13f1cbb129">&#9670;&#160;</a></span>DBusTimeoutRemoveFunction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* DBusTimeoutRemoveFunction) (<a class="el" href="structDBusTimeoutList.html">DBusTimeoutList</a> *list, <a class="el" href="structDBusTimeout.html">DBusTimeout</a> *timeout)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to be called in protected_change_timeout() with refcount held. </p>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l00797">797</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

</div>
</div>
<a id="ga775e02883191ec762f386d0953fd6308" name="ga775e02883191ec762f386d0953fd6308"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga775e02883191ec762f386d0953fd6308">&#9670;&#160;</a></span>DBusTimeoutToggleFunction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* DBusTimeoutToggleFunction) (<a class="el" href="structDBusTimeoutList.html">DBusTimeoutList</a> *list, <a class="el" href="structDBusTimeout.html">DBusTimeout</a> *timeout, <a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a> enabled)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to be called in protected_change_timeout() with refcount held. </p>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l00800">800</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

</div>
</div>
<a id="gacec4220795b4d31e77547dcbcdecdb53" name="gacec4220795b4d31e77547dcbcdecdb53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacec4220795b4d31e77547dcbcdecdb53">&#9670;&#160;</a></span>DBusWatchAddFunction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a>(* DBusWatchAddFunction) (<a class="el" href="structDBusWatchList.html">DBusWatchList</a> *list, <a class="el" href="structDBusWatch.html">DBusWatch</a> *watch)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to be called in protected_change_watch() with refcount held. </p>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l00670">670</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

</div>
</div>
<a id="ga3d3f6c25b94c857059e816dcb1f5629e" name="ga3d3f6c25b94c857059e816dcb1f5629e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3d3f6c25b94c857059e816dcb1f5629e">&#9670;&#160;</a></span>DBusWatchRemoveFunction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* DBusWatchRemoveFunction) (<a class="el" href="structDBusWatchList.html">DBusWatchList</a> *list, <a class="el" href="structDBusWatch.html">DBusWatch</a> *watch)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to be called in protected_change_watch() with refcount held. </p>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l00673">673</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

</div>
</div>
<a id="gabd9d6416ed2bb1abc881123249d91b9b" name="gabd9d6416ed2bb1abc881123249d91b9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabd9d6416ed2bb1abc881123249d91b9b">&#9670;&#160;</a></span>DBusWatchToggleFunction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* DBusWatchToggleFunction) (<a class="el" href="structDBusWatchList.html">DBusWatchList</a> *list, <a class="el" href="structDBusWatch.html">DBusWatch</a> *watch, <a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a> enabled)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to be called in protected_change_watch() with refcount held. </p>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l00676">676</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="ga69e87e3be94b8c681585ec870e39a64a" name="ga69e87e3be94b8c681585ec870e39a64a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga69e87e3be94b8c681585ec870e39a64a">&#9670;&#160;</a></span>_dbus_connection_add_timeout_unlocked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a> _dbus_connection_add_timeout_unlocked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusConnection.html">DBusConnection</a> *</td>          <td class="paramname"><span class="paramname"><em>connection</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structDBusTimeout.html">DBusTimeout</a> *</td>          <td class="paramname"><span class="paramname"><em>timeout</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a timeout using the connection's <a class="el" href="group__DBusConnection.html#ga7fad164617baf483b39f3e3ea1c30a40" title="Called when libdbus needs a new timeout to be monitored by the main loop.">DBusAddTimeoutFunction</a> if available. </p>
<p>Otherwise records the timeout to be added when said function is available. Also re-adds the timeout if the <a class="el" href="group__DBusConnection.html#ga7fad164617baf483b39f3e3ea1c30a40" title="Called when libdbus needs a new timeout to be monitored by the main loop.">DBusAddTimeoutFunction</a> changes. May fail due to lack of memory. The timeout will fire repeatedly until removed. Connection lock should be held when calling this.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>the connection. </td></tr>
    <tr><td class="paramname">timeout</td><td>the timeout to add. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d" title="Expands to &quot;1&quot;.">TRUE</a> on success. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l00867">867</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-timeout_8c_source.html#l00314">_dbus_timeout_list_add_timeout()</a>, <a class="el" href="dbus-macros_8h_source.html#l00042">FALSE</a>, and <a class="el" href="dbus-macros_8h_source.html#l00049">NULL</a>.</p>

</div>
</div>
<a id="ga82adef36b4cd583bc1146eae5756c063" name="ga82adef36b4cd583bc1146eae5756c063"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga82adef36b4cd583bc1146eae5756c063">&#9670;&#160;</a></span>_dbus_connection_add_watch_unlocked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a> _dbus_connection_add_watch_unlocked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusConnection.html">DBusConnection</a> *</td>          <td class="paramname"><span class="paramname"><em>connection</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structDBusWatch.html">DBusWatch</a> *</td>          <td class="paramname"><span class="paramname"><em>watch</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a watch using the connection's <a class="el" href="group__DBusConnection.html#ga632c59364661602111278efd6a10d3aa" title="Called when libdbus needs a new watch to be monitored by the main loop.">DBusAddWatchFunction</a> if available. </p>
<p>Otherwise records the watch to be added when said function is available. Also re-adds the watch if the <a class="el" href="group__DBusConnection.html#ga632c59364661602111278efd6a10d3aa" title="Called when libdbus needs a new watch to be monitored by the main loop.">DBusAddWatchFunction</a> changes. May fail due to lack of memory. Connection lock should be held when calling this.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>the connection. </td></tr>
    <tr><td class="paramname">watch</td><td>the watch to add. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d" title="Expands to &quot;1&quot;.">TRUE</a> on success. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l00743">743</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-watch_8c_source.html#l00382">_dbus_watch_list_add_watch()</a>, <a class="el" href="dbus-macros_8h_source.html#l00042">FALSE</a>, and <a class="el" href="dbus-macros_8h_source.html#l00049">NULL</a>.</p>

</div>
</div>
<a id="gad5e725e66dc16a411544e25675fb9fba" name="gad5e725e66dc16a411544e25675fb9fba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad5e725e66dc16a411544e25675fb9fba">&#9670;&#160;</a></span>_dbus_connection_block_pending_call()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _dbus_connection_block_pending_call </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusPendingCall.html">DBusPendingCall</a> *</td>          <td class="paramname"><span class="paramname"><em>pending</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Blocks until a pending call times out or gets a reply. </p>
<p>Does not re-enter the main loop or run filter/path-registered callbacks. The reply to the message will not be seen by filter callbacks.</p>
<p>Returns immediately if pending call already got a reply.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000008">Todo</a></b></dt><dd>could use performance improvements (it keeps scanning the whole message queue for example)</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pending</td><td>the pending call we block for a reply on </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l02380">2380</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-internals_8h_source.html#l00152">_dbus_assert</a>, <a class="el" href="dbus-connection_8c_source.html#l01198">_dbus_connection_do_iteration_unlocked()</a>, <a class="el" href="dbus-sysdeps-unix_8c_source.html#l02904">_dbus_get_monotonic_time()</a>, <a class="el" href="dbus-pending-call_8c_source.html#l00506">_dbus_pending_call_get_completed_unlocked()</a>, <a class="el" href="dbus-pending-call_8c_source.html#l00349">_dbus_pending_call_get_connection_and_lock()</a>, <a class="el" href="dbus-pending-call_8c_source.html#l00319">_dbus_pending_call_get_reply_serial_unlocked()</a>, <a class="el" href="dbus-pending-call_8c_source.html#l00305">_dbus_pending_call_get_timeout_unlocked()</a>, <a class="el" href="dbus-pending-call_8c_source.html#l00053">CONNECTION_LOCK</a>, <a class="el" href="dbus-connection_8h_source.html#l00082">DBUS_DISPATCH_DATA_REMAINS</a>, <a class="el" href="dbus-connection_8h_source.html#l00084">DBUS_DISPATCH_NEED_MEMORY</a>, <a class="el" href="dbus-protocol_8h_source.html#l00389">DBUS_ERROR_DISCONNECTED</a>, <a class="el" href="dbus-message_8c_source.html#l01712">dbus_message_unref()</a>, <a class="el" href="dbus-pending-call_8c_source.html#l00705">dbus_pending_call_get_completed()</a>, <a class="el" href="dbus-pending-call_8c_source.html#l00603">dbus_pending_call_ref()</a>, <a class="el" href="dbus-pending-call_8c_source.html#l00623">dbus_pending_call_unref()</a>, <a class="el" href="dbus-timeout_8c_source.html#l00444">dbus_timeout_get_interval()</a>, <a class="el" href="dbus-connection_8c_source.html#l00292">DBusConnection::disconnect_message_link</a>, and <a class="el" href="dbus-macros_8h_source.html#l00049">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="dbus-pending-call_8c_source.html#l00763">dbus_pending_call_block()</a>.</p>

</div>
</div>
<a id="ga9f9665902c763bd1ddf9d9bc57d7a7ba" name="ga9f9665902c763bd1ddf9d9bc57d7a7ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9f9665902c763bd1ddf9d9bc57d7a7ba">&#9670;&#160;</a></span>_dbus_connection_close_if_only_one_ref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _dbus_connection_close_if_only_one_ref </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusConnection.html">DBusConnection</a> *</td>          <td class="paramname"><span class="paramname"><em>connection</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used internally to handle the semantics of <a class="el" href="group__DBusServer.html#gaa14d9109e04adccffd9a40460c28c53b" title="Sets a function to be used for handling new connections.">dbus_server_set_new_connection_function()</a>. </p>
<p>If the new connection function does not ref the connection, we want to close it.</p>
<p>A bit of a hack, probably the new connection function should have returned a value for whether to close, or should have had to close the connection itself if it didn't want it.</p>
<p>But, this works OK as long as the new connection function doesn't do anything crazy like keep the connection around without ref'ing it.</p>
<p>We have to lock the connection across refcount check and close in case the new connection function spawns a thread that closes and unrefs. In that case, if the app thread closes and unrefs first, we'll harmlessly close again; if the app thread still has the ref, we'll close and then the app will close harmlessly. If the app unrefs without closing, the app is broken since if the app refs from the new connection function it is supposed to also close.</p>
<p>If we didn't atomically check the refcount and close with the lock held though, we could screw this up.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>the connection </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l02146">2146</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-internals_8h_source.html#l00152">_dbus_assert</a>, <a class="el" href="dbus-sysdeps-unix_8c_source.html#l02801">_dbus_atomic_get()</a>, <a class="el" href="dbus-pending-call_8c_source.html#l00053">CONNECTION_LOCK</a>, <a class="el" href="dbus-pending-call_8c_source.html#l00057">CONNECTION_UNLOCK</a>, and <a class="el" href="dbus-connection_8c_source.html#l00258">DBusConnection::refcount</a>.</p>

</div>
</div>
<a id="gadc46f7abfe925f9860fc8c64aeb29ad2" name="gadc46f7abfe925f9860fc8c64aeb29ad2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadc46f7abfe925f9860fc8c64aeb29ad2">&#9670;&#160;</a></span>_dbus_connection_close_possibly_shared()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _dbus_connection_close_possibly_shared </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusConnection.html">DBusConnection</a> *</td>          <td class="paramname"><span class="paramname"><em>connection</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes a shared OR private connection, while <a class="el" href="group__DBusConnection.html#ga2522ac5075dfe0a1535471f6e045e1ee" title="Closes a private connection, so no further data can be sent or received.">dbus_connection_close()</a> can only be used on private connections. </p>
<p>Should only be called by the dbus code that owns the connection - an owner must be known, the open/close state is like malloc/free, not like ref/unref.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>the connection </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l01948">1948</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-internals_8h_source.html#l00152">_dbus_assert</a>, <a class="el" href="dbus-memory_8c_source.html#l00782">_dbus_current_generation</a>, <a class="el" href="dbus-pending-call_8c_source.html#l00053">CONNECTION_LOCK</a>, and <a class="el" href="dbus-macros_8h_source.html#l00049">NULL</a>.</p>

</div>
</div>
<a id="ga283f0254537c4bf4453dbed6fad2e21e" name="ga283f0254537c4bf4453dbed6fad2e21e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga283f0254537c4bf4453dbed6fad2e21e">&#9670;&#160;</a></span>_dbus_connection_do_iteration_unlocked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _dbus_connection_do_iteration_unlocked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusConnection.html">DBusConnection</a> *</td>          <td class="paramname"><span class="paramname"><em>connection</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structDBusPendingCall.html">DBusPendingCall</a> *</td>          <td class="paramname"><span class="paramname"><em>pending</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>timeout_milliseconds</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queues incoming messages and sends outgoing messages for this connection, optionally blocking in the process. </p>
<p>Each call to <a class="el" href="#ga283f0254537c4bf4453dbed6fad2e21e" title="Queues incoming messages and sends outgoing messages for this connection, optionally blocking in the ...">_dbus_connection_do_iteration_unlocked()</a> will call select() or poll() one time and then read or write data if possible.</p>
<p>The purpose of this function is to be able to flush outgoing messages or queue up incoming messages without returning control to the application and causing reentrancy weirdness.</p>
<p>The flags parameter allows you to specify whether to read incoming messages, write outgoing messages, or both, and whether to block if no immediate action is possible.</p>
<p>The timeout_milliseconds parameter does nothing unless the iteration is blocking.</p>
<p>If there are no outgoing messages and DBUS_ITERATION_DO_READING wasn't specified, then it's impossible to block, even if you specify DBUS_ITERATION_BLOCK; in that case the function returns immediately.</p>
<p>If pending is not NULL then a check is made if the pending call is completed after the io path has been required. If the call has been completed nothing is done. This must be done since the _dbus_connection_acquire_io_path releases the connection lock for a while.</p>
<p>Called with connection lock held.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>the connection. </td></tr>
    <tr><td class="paramname">pending</td><td>the pending call that should be checked or NULL </td></tr>
    <tr><td class="paramname">flags</td><td>iteration flags. </td></tr>
    <tr><td class="paramname">timeout_milliseconds</td><td>maximum blocking time, or -1 for no limit. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l01198">1198</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-pending-call_8c_source.html#l00506">_dbus_pending_call_get_completed_unlocked()</a>, <a class="el" href="dbus-pending-call_8c_source.html#l00319">_dbus_pending_call_get_reply_serial_unlocked()</a>, <a class="el" href="dbus-transport_8c_source.html#l00999">_dbus_transport_do_iteration()</a>, <a class="el" href="dbus-connection_8c_source.html#l00275">DBusConnection::n_outgoing</a>, <a class="el" href="dbus-macros_8h_source.html#l00049">NULL</a>, and <a class="el" href="dbus-connection_8c_source.html#l00280">DBusConnection::transport</a>.</p>

<p class="reference">Referenced by <a class="el" href="dbus-connection_8c_source.html#l02380">_dbus_connection_block_pending_call()</a>.</p>

</div>
</div>
<a id="gaa70037deabe2f362a479d859823918f3" name="gaa70037deabe2f362a479d859823918f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa70037deabe2f362a479d859823918f3">&#9670;&#160;</a></span>_dbus_connection_get_message_to_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDBusMessage.html">DBusMessage</a> * _dbus_connection_get_message_to_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusConnection.html">DBusConnection</a> *</td>          <td class="paramname"><span class="paramname"><em>connection</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the next outgoing message. </p>
<p>The message remains in the queue, and the caller does not own a reference to it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>the connection. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the message to be sent. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l00609">609</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-list_8c_source.html#l00596">_dbus_list_get_last()</a>, and <a class="el" href="dbus-connection_8c_source.html#l00267">DBusConnection::outgoing_messages</a>.</p>

</div>
</div>
<a id="gac6dba97d98f486b87468ae8076349a66" name="gac6dba97d98f486b87468ae8076349a66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac6dba97d98f486b87468ae8076349a66">&#9670;&#160;</a></span>_dbus_connection_get_pending_fds_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _dbus_connection_get_pending_fds_count </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusConnection.html">DBusConnection</a> *</td>          <td class="paramname"><span class="paramname"><em>connection</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return how many file descriptors are pending in the loader. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>the connection </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l02561">2561</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-transport_8c_source.html#l01571">_dbus_transport_get_pending_fds_count()</a>, and <a class="el" href="dbus-connection_8c_source.html#l00280">DBusConnection::transport</a>.</p>

</div>
</div>
<a id="ga12756797bd5c1918aa065f9c37ed7bba" name="ga12756797bd5c1918aa065f9c37ed7bba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga12756797bd5c1918aa065f9c37ed7bba">&#9670;&#160;</a></span>_dbus_connection_handle_watch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a> _dbus_connection_handle_watch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusWatch.html">DBusWatch</a> *</td>          <td class="paramname"><span class="paramname"><em>watch</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>condition</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback for use with dbus_watch_new() to create a <a class="el" href="structDBusWatch.html" title="Implementation of DBusWatch.">DBusWatch</a>. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000007">Todo</a></b></dt><dd>This is basically a hack - we could delete <a class="el" href="group__DBusTransport.html#ga4a010098fe079eb6f201ff034d15fdff" title="Handles a watch by reading data, writing data, or disconnecting the transport, as appropriate for the...">_dbus_transport_handle_watch()</a> and the virtual handle_watch in <a class="el" href="structDBusTransport.html" title="Object representing a transport such as a socket.">DBusTransport</a> if we got rid of it. The reason this is some work is threading, see the <a class="el" href="#ga12756797bd5c1918aa065f9c37ed7bba" title="A callback for use with dbus_watch_new() to create a DBusWatch.">_dbus_connection_handle_watch()</a> implementation.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">watch</td><td>the watch. </td></tr>
    <tr><td class="paramname">condition</td><td>the current condition of the file descriptors being watched. </td></tr>
    <tr><td class="paramname">data</td><td>must be a pointer to a <a class="el" href="structDBusConnection.html" title="Implementation details of DBusConnection.">DBusConnection</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1" title="Expands to &quot;0&quot;.">FALSE</a> if the IO condition may not have been fully handled due to lack of memory </dd></dl>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l01486">1486</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-transport_8c_source.html#l00904">_dbus_transport_handle_watch()</a>, <a class="el" href="dbus-pending-call_8c_source.html#l00053">CONNECTION_LOCK</a>, <a class="el" href="dbus-pending-call_8c_source.html#l00057">CONNECTION_UNLOCK</a>, <a class="el" href="dbus-connection_8c_source.html#l00280">DBusConnection::transport</a>, and <a class="el" href="dbus-macros_8h_source.html#l00039">TRUE</a>.</p>

</div>
</div>
<a id="ga3d31a01751860b67f960dcaffb7bb4ef" name="ga3d31a01751860b67f960dcaffb7bb4ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3d31a01751860b67f960dcaffb7bb4ef">&#9670;&#160;</a></span>_dbus_connection_has_messages_to_send_unlocked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a> _dbus_connection_has_messages_to_send_unlocked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusConnection.html">DBusConnection</a> *</td>          <td class="paramname"><span class="paramname"><em>connection</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether there are messages in the outgoing message queue. </p>
<p>Called with connection lock held.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>the connection. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d" title="Expands to &quot;1&quot;.">TRUE</a> if the outgoing queue is non-empty. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l00572">572</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-macros_8h_source.html#l00049">NULL</a>, and <a class="el" href="dbus-connection_8c_source.html#l00267">DBusConnection::outgoing_messages</a>.</p>

<p class="reference">Referenced by <a class="el" href="dbus-connection_8c_source.html#l00588">dbus_connection_has_messages_to_send()</a>.</p>

</div>
</div>
<a id="ga4fe0c8f7b72dc89b9e1a3110db2f778e" name="ga4fe0c8f7b72dc89b9e1a3110db2f778e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4fe0c8f7b72dc89b9e1a3110db2f778e">&#9670;&#160;</a></span>_dbus_connection_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _dbus_connection_lock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusConnection.html">DBusConnection</a> *</td>          <td class="paramname"><span class="paramname"><em>connection</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Acquires the connection lock. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>the connection. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l00388">388</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-pending-call_8c_source.html#l00053">CONNECTION_LOCK</a>.</p>

<p class="reference">Referenced by <a class="el" href="dbus-object-tree_8c_source.html#l00905">_dbus_object_tree_dispatch_and_unlock()</a>.</p>

</div>
</div>
<a id="gab93fd3666217ee339c4d2e8d4d33e63c" name="gab93fd3666217ee339c4d2e8d4d33e63c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab93fd3666217ee339c4d2e8d4d33e63c">&#9670;&#160;</a></span>_dbus_connection_message_sent_unlocked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _dbus_connection_message_sent_unlocked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusConnection.html">DBusConnection</a> *</td>          <td class="paramname"><span class="paramname"><em>connection</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structDBusMessage.html">DBusMessage</a> *</td>          <td class="paramname"><span class="paramname"><em>message</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notifies the connection that a message has been sent, so the message can be removed from the outgoing queue. </p>
<p>Called with the connection lock held.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>the connection. </td></tr>
    <tr><td class="paramname">message</td><td>the message that was sent. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l00625">625</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-internals_8h_source.html#l00152">_dbus_assert</a>, <a class="el" href="dbus-list_8c_source.html#l00580">_dbus_list_get_last_link()</a>, <a class="el" href="dbus-list_8c_source.html#l00333">_dbus_list_prepend_link()</a>, <a class="el" href="dbus-list_8c_source.html#l00499">_dbus_list_unlink()</a>, <a class="el" href="dbus-message_8c_source.html#l00375">_dbus_message_remove_counter()</a>, <a class="el" href="dbus-list_8h_source.html#l00038">DBusList::data</a>, <a class="el" href="dbus-message_8c_source.html#l03451">dbus_message_get_interface()</a>, <a class="el" href="dbus-message_8c_source.html#l03537">dbus_message_get_member()</a>, <a class="el" href="dbus-message_8c_source.html#l03320">dbus_message_get_path()</a>, <a class="el" href="dbus-message_8c_source.html#l03767">dbus_message_get_signature()</a>, <a class="el" href="dbus-message_8c_source.html#l01744">dbus_message_get_type()</a>, <a class="el" href="dbus-message_8c_source.html#l04994">dbus_message_type_to_string()</a>, <a class="el" href="dbus-connection_8c_source.html#l00269">DBusConnection::expired_messages</a>, <a class="el" href="dbus-connection_8c_source.html#l00275">DBusConnection::n_outgoing</a>, <a class="el" href="dbus-macros_8h_source.html#l00049">NULL</a>, <a class="el" href="dbus-connection_8c_source.html#l00278">DBusConnection::outgoing_counter</a>, and <a class="el" href="dbus-connection_8c_source.html#l00267">DBusConnection::outgoing_messages</a>.</p>

</div>
</div>
<a id="ga349cb271344a906525242681d54f03f5" name="ga349cb271344a906525242681d54f03f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga349cb271344a906525242681d54f03f5">&#9670;&#160;</a></span>_dbus_connection_new_for_transport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDBusConnection.html">DBusConnection</a> * _dbus_connection_new_for_transport </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusTransport.html">DBusTransport</a> *</td>          <td class="paramname"><span class="paramname"><em>transport</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new connection for the given transport. </p>
<p>A transport represents a message stream that uses some concrete mechanism, such as UNIX domain sockets. May return <a class="el" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4" title="A null pointer, defined appropriately for C or C++.">NULL</a> if insufficient memory exists to create the connection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transport</td><td>the transport. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the new connection, or <a class="el" href="group__DBusMacros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4" title="A null pointer, defined appropriately for C or C++.">NULL</a> on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l01249">1249</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-sysdeps-unix_8c_source.html#l02754">_dbus_atomic_inc()</a>, <a class="el" href="dbus-threads_8c_source.html#l00107">_dbus_cmutex_free_at_location()</a>, <a class="el" href="dbus-threads_8c_source.html#l00077">_dbus_cmutex_new_at_location()</a>, <a class="el" href="dbus-threads_8c_source.html#l00224">_dbus_condvar_free_at_location()</a>, <a class="el" href="dbus-threads_8c_source.html#l00199">_dbus_condvar_new_at_location()</a>, <a class="el" href="dbus-resources_8c_source.html#l00089">_dbus_counter_new()</a>, <a class="el" href="dbus-resources_8c_source.html#l00136">_dbus_counter_unref()</a>, <a class="el" href="dbus-memory_8c_source.html#l00782">_dbus_current_generation</a>, <a class="el" href="dbus-dataslot_8c_source.html#l00197">_dbus_data_slot_list_init()</a>, <a class="el" href="dbus-sysdeps-unix_8c_source.html#l03179">_dbus_disable_sigpipe()</a>, <a class="el" href="dbus-hash_8c_source.html#l00285">_dbus_hash_table_new()</a>, <a class="el" href="dbus-hash_8c_source.html#l00361">_dbus_hash_table_unref()</a>, <a class="el" href="dbus-list_8c_source.html#l00242">_dbus_list_alloc_link()</a>, <a class="el" href="dbus-list_8c_source.html#l00254">_dbus_list_free_link()</a>, <a class="el" href="dbus-object-tree_8c_source.html#l00092">_dbus_object_tree_new()</a>, <a class="el" href="dbus-object-tree_8c_source.html#l00143">_dbus_object_tree_unref()</a>, <a class="el" href="dbus-threads_8c_source.html#l00094">_dbus_rmutex_free_at_location()</a>, <a class="el" href="dbus-threads_8c_source.html#l00053">_dbus_rmutex_new_at_location()</a>, <a class="el" href="dbus-timeout_8c_source.html#l00215">_dbus_timeout_list_free()</a>, <a class="el" href="dbus-timeout_8c_source.html#l00198">_dbus_timeout_list_new()</a>, <a class="el" href="dbus-transport_8c_source.html#l00466">_dbus_transport_ref()</a>, <a class="el" href="dbus-transport_8c_source.html#l00942">_dbus_transport_set_connection()</a>, <a class="el" href="dbus-watch_8c_source.html#l00249">_dbus_watch_list_free()</a>, <a class="el" href="dbus-watch_8c_source.html#l00232">_dbus_watch_list_new()</a>, <a class="el" href="dbus-connection_8c_source.html#l00291">DBusConnection::client_serial</a>, <a class="el" href="dbus-pending-call_8c_source.html#l00053">CONNECTION_LOCK</a>, <a class="el" href="dbus-pending-call_8c_source.html#l00057">CONNECTION_UNLOCK</a>, <a class="el" href="dbus-connection_8h_source.html#l00083">DBUS_DISPATCH_COMPLETE</a>, <a class="el" href="dbus-memory_8c_source.html#l00702">dbus_free()</a>, <a class="el" href="dbus-hash_8h_source.html#l00070">DBUS_HASH_INT</a>, <a class="el" href="dbus-shared_8h_source.html#l00105">DBUS_INTERFACE_LOCAL</a>, <a class="el" href="dbus-message_8c_source.html#l01446">dbus_message_new_signal()</a>, <a class="el" href="dbus-message_8c_source.html#l01712">dbus_message_unref()</a>, <a class="el" href="dbus-memory_8h_source.html#l00059">dbus_new0</a>, <a class="el" href="dbus-shared_8h_source.html#l00082">DBUS_PATH_LOCAL</a>, <a class="el" href="dbus-connection_8c_source.html#l00292">DBusConnection::disconnect_message_link</a>, <a class="el" href="dbus-connection_8c_source.html#l00321">DBusConnection::disconnected_message_arrived</a>, <a class="el" href="dbus-connection_8c_source.html#l00325">DBusConnection::disconnected_message_processed</a>, <a class="el" href="dbus-connection_8c_source.html#l00263">DBusConnection::dispatch_cond</a>, <a class="el" href="dbus-connection_8c_source.html#l00262">DBusConnection::dispatch_mutex</a>, <a class="el" href="dbus-connection_8c_source.html#l00317">DBusConnection::exit_on_disconnect</a>, <a class="el" href="dbus-macros_8h_source.html#l00042">FALSE</a>, <a class="el" href="dbus-connection_8c_source.html#l00284">DBusConnection::filter_list</a>, <a class="el" href="dbus-connection_8c_source.html#l00265">DBusConnection::io_path_cond</a>, <a class="el" href="dbus-connection_8c_source.html#l00264">DBusConnection::io_path_mutex</a>, <a class="el" href="dbus-connection_8c_source.html#l00302">DBusConnection::last_dispatch_status</a>, <a class="el" href="dbus-connection_8c_source.html#l00260">DBusConnection::mutex</a>, <a class="el" href="dbus-macros_8h_source.html#l00049">NULL</a>, <a class="el" href="dbus-connection_8c_source.html#l00304">DBusConnection::objects</a>, <a class="el" href="dbus-connection_8c_source.html#l00278">DBusConnection::outgoing_counter</a>, <a class="el" href="dbus-connection_8c_source.html#l00289">DBusConnection::pending_replies</a>, <a class="el" href="dbus-connection_8c_source.html#l00258">DBusConnection::refcount</a>, <a class="el" href="dbus-connection_8c_source.html#l00319">DBusConnection::route_peer_messages</a>, <a class="el" href="dbus-connection_8c_source.html#l00315">DBusConnection::shareable</a>, <a class="el" href="dbus-connection_8c_source.html#l00287">DBusConnection::slot_list</a>, <a class="el" href="dbus-connection_8c_source.html#l00286">DBusConnection::slot_mutex</a>, <a class="el" href="dbus-connection_8c_source.html#l00282">DBusConnection::timeouts</a>, <a class="el" href="dbus-connection_8c_source.html#l00280">DBusConnection::transport</a>, and <a class="el" href="dbus-connection_8c_source.html#l00281">DBusConnection::watches</a>.</p>

</div>
</div>
<a id="gac1b92eba0aeee294dc28fcc260c9b749" name="gac1b92eba0aeee294dc28fcc260c9b749"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac1b92eba0aeee294dc28fcc260c9b749">&#9670;&#160;</a></span>_dbus_connection_queue_received_message_link()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _dbus_connection_queue_received_message_link </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusConnection.html">DBusConnection</a> *</td>          <td class="paramname"><span class="paramname"><em>connection</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structDBusList.html">DBusList</a> *</td>          <td class="paramname"><span class="paramname"><em>link</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a message-containing list link to the incoming message queue, taking ownership of the link and the message's current refcount. </p>
<p>Cannot fail due to lack of memory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>the connection. </td></tr>
    <tr><td class="paramname">link</td><td>the message link to queue. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l00480">480</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-internals_8h_source.html#l00152">_dbus_assert</a>, <a class="el" href="dbus-connection_8c_source.html#l00885">_dbus_connection_remove_timeout_unlocked()</a>, <a class="el" href="dbus-hash_8c_source.html#l01084">_dbus_hash_table_lookup_int()</a>, <a class="el" href="dbus-list_8c_source.html#l00315">_dbus_list_append_link()</a>, <a class="el" href="dbus-pending-call_8c_source.html#l00305">_dbus_pending_call_get_timeout_unlocked()</a>, <a class="el" href="dbus-pending-call_8c_source.html#l00274">_dbus_pending_call_is_timeout_added_unlocked()</a>, <a class="el" href="dbus-pending-call_8c_source.html#l00289">_dbus_pending_call_set_timeout_added_unlocked()</a>, <a class="el" href="dbus-transport_8c_source.html#l00707">_dbus_transport_peek_is_authenticated()</a>, <a class="el" href="dbus-list_8h_source.html#l00038">DBusList::data</a>, <a class="el" href="dbus-message_8c_source.html#l03451">dbus_message_get_interface()</a>, <a class="el" href="dbus-message_8c_source.html#l03537">dbus_message_get_member()</a>, <a class="el" href="dbus-message_8c_source.html#l03320">dbus_message_get_path()</a>, <a class="el" href="dbus-message_8c_source.html#l01185">dbus_message_get_reply_serial()</a>, <a class="el" href="dbus-message_8c_source.html#l03767">dbus_message_get_signature()</a>, <a class="el" href="dbus-message_8c_source.html#l01744">dbus_message_get_type()</a>, <a class="el" href="dbus-message_8c_source.html#l04994">dbus_message_type_to_string()</a>, <a class="el" href="dbus-macros_8h_source.html#l00042">FALSE</a>, <a class="el" href="dbus-connection_8c_source.html#l00268">DBusConnection::incoming_messages</a>, <a class="el" href="dbus-connection_8c_source.html#l00276">DBusConnection::n_incoming</a>, <a class="el" href="dbus-macros_8h_source.html#l00049">NULL</a>, <a class="el" href="dbus-connection_8c_source.html#l00289">DBusConnection::pending_replies</a>, and <a class="el" href="dbus-connection_8c_source.html#l00280">DBusConnection::transport</a>.</p>

<p class="reference">Referenced by <a class="el" href="dbus-transport_8c_source.html#l01163">_dbus_transport_queue_messages()</a>.</p>

</div>
</div>
<a id="gadb7a525dc6b566b575ee4f9b20028b04" name="gadb7a525dc6b566b575ee4f9b20028b04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadb7a525dc6b566b575ee4f9b20028b04">&#9670;&#160;</a></span>_dbus_connection_queue_synthesized_message_link()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _dbus_connection_queue_synthesized_message_link </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusConnection.html">DBusConnection</a> *</td>          <td class="paramname"><span class="paramname"><em>connection</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structDBusList.html">DBusList</a> *</td>          <td class="paramname"><span class="paramname"><em>link</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a link + message to the incoming message queue. </p>
<p>Can't fail. Takes ownership of both link and message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>the connection. </td></tr>
    <tr><td class="paramname">link</td><td>the list node and message to queue. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l00545">545</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-list_8c_source.html#l00315">_dbus_list_append_link()</a>, <a class="el" href="dbus-list_8h_source.html#l00038">DBusList::data</a>, <a class="el" href="dbus-connection_8c_source.html#l00268">DBusConnection::incoming_messages</a>, and <a class="el" href="dbus-connection_8c_source.html#l00276">DBusConnection::n_incoming</a>.</p>

<p class="reference">Referenced by <a class="el" href="dbus-pending-call_8c_source.html#l00254">_dbus_pending_call_queue_timeout_error_unlocked()</a>.</p>

</div>
</div>
<a id="gae2e4d7af6d1244c1c4c40744253c9cc9" name="gae2e4d7af6d1244c1c4c40744253c9cc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae2e4d7af6d1244c1c4c40744253c9cc9">&#9670;&#160;</a></span>_dbus_connection_ref_unlocked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDBusConnection.html">DBusConnection</a> * _dbus_connection_ref_unlocked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusConnection.html">DBusConnection</a> *</td>          <td class="paramname"><span class="paramname"><em>connection</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Increments the reference count of a <a class="el" href="structDBusConnection.html" title="Implementation details of DBusConnection.">DBusConnection</a>. </p>
<p>Requires that the caller already holds the connection lock.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>the connection. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the connection. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l01419">1419</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-internals_8h_source.html#l00152">_dbus_assert</a>, <a class="el" href="dbus-sysdeps-unix_8c_source.html#l02754">_dbus_atomic_inc()</a>, <a class="el" href="dbus-memory_8c_source.html#l00782">_dbus_current_generation</a>, <a class="el" href="dbus-macros_8h_source.html#l00049">NULL</a>, and <a class="el" href="dbus-connection_8c_source.html#l00258">DBusConnection::refcount</a>.</p>

<p class="reference">Referenced by <a class="el" href="dbus-object-tree_8c_source.html#l00625">_dbus_object_tree_unregister_and_unlock()</a>, <a class="el" href="dbus-pending-call_8c_source.html#l00117">_dbus_pending_call_new_unlocked()</a>, <a class="el" href="dbus-transport_8c_source.html#l00730">_dbus_transport_try_to_authenticate()</a>, and <a class="el" href="dbus-connection_8c_source.html#l04576">dbus_connection_dispatch()</a>.</p>

</div>
</div>
<a id="ga968196bee49659e75c54b53d7c85fa51" name="ga968196bee49659e75c54b53d7c85fa51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga968196bee49659e75c54b53d7c85fa51">&#9670;&#160;</a></span>_dbus_connection_remove_pending_call()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _dbus_connection_remove_pending_call </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusConnection.html">DBusConnection</a> *</td>          <td class="paramname"><span class="paramname"><em>connection</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structDBusPendingCall.html">DBusPendingCall</a> *</td>          <td class="paramname"><span class="paramname"><em>pending</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a pending call from the connection, such that the pending reply will be ignored. </p>
<p>May drop the last reference to the pending call.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>the connection </td></tr>
    <tr><td class="paramname">pending</td><td>the pending call </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l01044">1044</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-pending-call_8c_source.html#l00053">CONNECTION_LOCK</a>.</p>

<p class="reference">Referenced by <a class="el" href="dbus-pending-call_8c_source.html#l00689">dbus_pending_call_cancel()</a>.</p>

</div>
</div>
<a id="gabaa6d26f6eca30782904af1ceb703bd1" name="gabaa6d26f6eca30782904af1ceb703bd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabaa6d26f6eca30782904af1ceb703bd1">&#9670;&#160;</a></span>_dbus_connection_remove_timeout_unlocked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _dbus_connection_remove_timeout_unlocked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusConnection.html">DBusConnection</a> *</td>          <td class="paramname"><span class="paramname"><em>connection</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structDBusTimeout.html">DBusTimeout</a> *</td>          <td class="paramname"><span class="paramname"><em>timeout</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a timeout using the connection's <a class="el" href="group__DBusConnection.html#gaed317fe6f12e65586a50e1d1d2ea96b7" title="Called when libdbus no longer needs a timeout to be monitored by the main loop.">DBusRemoveTimeoutFunction</a> if available. </p>
<p>It's an error to call this function on a timeout that was not previously added. Connection lock should be held when calling this.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>the connection. </td></tr>
    <tr><td class="paramname">timeout</td><td>the timeout to remove. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l00885">885</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-timeout_8c_source.html#l00344">_dbus_timeout_list_remove_timeout()</a>, <a class="el" href="dbus-macros_8h_source.html#l00042">FALSE</a>, and <a class="el" href="dbus-macros_8h_source.html#l00049">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="dbus-connection_8c_source.html#l00480">_dbus_connection_queue_received_message_link()</a>.</p>

</div>
</div>
<a id="ga65fc02c0756d0c7caaa39cd60922c99b" name="ga65fc02c0756d0c7caaa39cd60922c99b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga65fc02c0756d0c7caaa39cd60922c99b">&#9670;&#160;</a></span>_dbus_connection_remove_watch_unlocked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _dbus_connection_remove_watch_unlocked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusConnection.html">DBusConnection</a> *</td>          <td class="paramname"><span class="paramname"><em>connection</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structDBusWatch.html">DBusWatch</a> *</td>          <td class="paramname"><span class="paramname"><em>watch</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a watch using the connection's <a class="el" href="group__DBusConnection.html#gab99c5eeb90a30ec49cc2bdbb2e965b75" title="Called when libdbus no longer needs a watch to be monitored by the main loop.">DBusRemoveWatchFunction</a> if available. </p>
<p>It's an error to call this function on a watch that was not previously added. Connection lock should be held when calling this.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>the connection. </td></tr>
    <tr><td class="paramname">watch</td><td>the watch to remove. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l00761">761</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-watch_8c_source.html#l00415">_dbus_watch_list_remove_watch()</a>, <a class="el" href="dbus-macros_8h_source.html#l00042">FALSE</a>, and <a class="el" href="dbus-macros_8h_source.html#l00049">NULL</a>.</p>

</div>
</div>
<a id="ga2974eb1c261305fafc635e14fc575d03" name="ga2974eb1c261305fafc635e14fc575d03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2974eb1c261305fafc635e14fc575d03">&#9670;&#160;</a></span>_dbus_connection_send_and_unlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a> _dbus_connection_send_and_unlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusConnection.html">DBusConnection</a> *</td>          <td class="paramname"><span class="paramname"><em>connection</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structDBusMessage.html">DBusMessage</a> *</td>          <td class="paramname"><span class="paramname"><em>message</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbus_uint32_t *</td>          <td class="paramname"><span class="paramname"><em>client_serial</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Like <a class="el" href="group__DBusConnection.html#gae1cb64f4cf550949b23fd3a756b2f7d0" title="Adds a message to the outgoing message queue.">dbus_connection_send()</a>, but assumes the connection is already locked on function entry, and unlocks before returning. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>the connection </td></tr>
    <tr><td class="paramname">message</td><td>the message to send </td></tr>
    <tr><td class="paramname">client_serial</td><td>return location for client serial of sent message </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__DBusMacros.html#gaa93f0eb578d23995850d61f7d61c55c1" title="Expands to &quot;0&quot;.">FALSE</a> on out-of-memory </dd></dl>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l02098">2098</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-internals_8h_source.html#l00152">_dbus_assert</a>, <a class="el" href="dbus-pending-call_8c_source.html#l00057">CONNECTION_UNLOCK</a>, <a class="el" href="dbus-macros_8h_source.html#l00042">FALSE</a>, <a class="el" href="dbus-macros_8h_source.html#l00049">NULL</a>, and <a class="el" href="dbus-macros_8h_source.html#l00039">TRUE</a>.</p>

<p class="reference">Referenced by <a class="el" href="dbus-connection_8c_source.html#l03303">dbus_connection_send()</a>.</p>

</div>
</div>
<a id="gac84ff2ad1060326f8c1f94a171fefa98" name="gac84ff2ad1060326f8c1f94a171fefa98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac84ff2ad1060326f8c1f94a171fefa98">&#9670;&#160;</a></span>_dbus_connection_set_pending_fds_function()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _dbus_connection_set_pending_fds_function </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusConnection.html">DBusConnection</a> *</td>          <td class="paramname"><span class="paramname"><em>connection</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DBusPendingFdsChangeFunction</td>          <td class="paramname"><span class="paramname"><em>callback</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a function to be called whenever the number of pending file descriptors in the loader change. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>the connection </td></tr>
    <tr><td class="paramname">callback</td><td>the callback </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l02574">2574</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-transport_8c_source.html#l01584">_dbus_transport_set_pending_fds_function()</a>, and <a class="el" href="dbus-connection_8c_source.html#l00280">DBusConnection::transport</a>.</p>

</div>
</div>
<a id="ga165dcfd8b995ff0edd19aebcf3e1a61a" name="ga165dcfd8b995ff0edd19aebcf3e1a61a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga165dcfd8b995ff0edd19aebcf3e1a61a">&#9670;&#160;</a></span>_dbus_connection_toggle_timeout_unlocked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _dbus_connection_toggle_timeout_unlocked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusConnection.html">DBusConnection</a> *</td>          <td class="paramname"><span class="paramname"><em>connection</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structDBusTimeout.html">DBusTimeout</a> *</td>          <td class="paramname"><span class="paramname"><em>timeout</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a></td>          <td class="paramname"><span class="paramname"><em>enabled</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Toggles a timeout and notifies app via connection's <a class="el" href="group__DBusConnection.html#ga65ee05019d4ee6d7c665ec829cd4414a" title="Called when dbus_timeout_get_enabled() may return a different value than it did before.">DBusTimeoutToggledFunction</a> if available. </p>
<p>It's an error to call this function on a timeout that was not previously added. Connection lock should be held when calling this.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>the connection. </td></tr>
    <tr><td class="paramname">timeout</td><td>the timeout to toggle. </td></tr>
    <tr><td class="paramname">enabled</td><td>whether to enable or disable </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l00905">905</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-timeout_8c_source.html#l00366">_dbus_timeout_list_toggle_timeout()</a>, and <a class="el" href="dbus-macros_8h_source.html#l00049">NULL</a>.</p>

</div>
</div>
<a id="ga6c00e2eaf225b154760976af5688d250" name="ga6c00e2eaf225b154760976af5688d250"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6c00e2eaf225b154760976af5688d250">&#9670;&#160;</a></span>_dbus_connection_toggle_watch_unlocked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _dbus_connection_toggle_watch_unlocked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusConnection.html">DBusConnection</a> *</td>          <td class="paramname"><span class="paramname"><em>connection</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structDBusWatch.html">DBusWatch</a> *</td>          <td class="paramname"><span class="paramname"><em>watch</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a></td>          <td class="paramname"><span class="paramname"><em>enabled</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Toggles a watch and notifies app via connection's <a class="el" href="group__DBusConnection.html#ga08cb6a64fbd538ac30a8dd00ba19cd95" title="Called when dbus_watch_get_enabled() may return a different value than it did before.">DBusWatchToggledFunction</a> if available. </p>
<p>It's an error to call this function on a watch that was not previously added. Connection lock should be held when calling this.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>the connection. </td></tr>
    <tr><td class="paramname">watch</td><td>the watch to toggle. </td></tr>
    <tr><td class="paramname">enabled</td><td>whether to enable or disable </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l00781">781</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-internals_8h_source.html#l00152">_dbus_assert</a>, <a class="el" href="dbus-watch_8c_source.html#l00442">_dbus_watch_list_toggle_watch()</a>, and <a class="el" href="dbus-macros_8h_source.html#l00049">NULL</a>.</p>

</div>
</div>
<a id="ga3db10d48ec16e485d5a638aacebd4ad2" name="ga3db10d48ec16e485d5a638aacebd4ad2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3db10d48ec16e485d5a638aacebd4ad2">&#9670;&#160;</a></span>_dbus_connection_unlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _dbus_connection_unlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusConnection.html">DBusConnection</a> *</td>          <td class="paramname"><span class="paramname"><em>connection</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases the connection lock. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>the connection. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l00399">399</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-list_8c_source.html#l00254">_dbus_list_free_link()</a>, <a class="el" href="dbus-list_8c_source.html#l00628">_dbus_list_pop_first_link()</a>, <a class="el" href="dbus-threads_8c_source.html#l00150">_dbus_rmutex_unlock()</a>, <a class="el" href="dbus-list_8h_source.html#l00038">DBusList::data</a>, <a class="el" href="dbus-message_8c_source.html#l01712">dbus_message_unref()</a>, <a class="el" href="dbus-connection_8c_source.html#l00269">DBusConnection::expired_messages</a>, <a class="el" href="dbus-connection_8c_source.html#l00260">DBusConnection::mutex</a>, and <a class="el" href="dbus-macros_8h_source.html#l00049">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="dbus-object-tree_8c_source.html#l00905">_dbus_object_tree_dispatch_and_unlock()</a>, <a class="el" href="dbus-object-tree_8c_source.html#l01208">_dbus_object_tree_list_registered_and_unlock()</a>, and <a class="el" href="dbus-object-tree_8c_source.html#l00625">_dbus_object_tree_unregister_and_unlock()</a>.</p>

</div>
</div>
<a id="ga9ffbd9aa4f07cb30d92887e956a9fd43" name="ga9ffbd9aa4f07cb30d92887e956a9fd43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9ffbd9aa4f07cb30d92887e956a9fd43">&#9670;&#160;</a></span>_dbus_connection_unref_unlocked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _dbus_connection_unref_unlocked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusConnection.html">DBusConnection</a> *</td>          <td class="paramname"><span class="paramname"><em>connection</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decrements the reference count of a <a class="el" href="structDBusConnection.html" title="Implementation details of DBusConnection.">DBusConnection</a>. </p>
<p>Requires that the caller already holds the connection lock.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>the connection. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l01442">1442</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-internals_8h_source.html#l00152">_dbus_assert</a>, <a class="el" href="dbus-sysdeps-unix_8c_source.html#l02777">_dbus_atomic_dec()</a>, <a class="el" href="dbus-macros_8h_source.html#l00049">NULL</a>, and <a class="el" href="dbus-connection_8c_source.html#l00258">DBusConnection::refcount</a>.</p>

<p class="reference">Referenced by <a class="el" href="dbus-transport_8c_source.html#l00730">_dbus_transport_try_to_authenticate()</a>.</p>

</div>
</div>
<a id="ga2210bb5734c1a04d0d654b026f27d94e" name="ga2210bb5734c1a04d0d654b026f27d94e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2210bb5734c1a04d0d654b026f27d94e">&#9670;&#160;</a></span>dbus_connection_has_messages_to_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DBusTypes.html#ga745f4088f630d3d4baf42b08aa9b6653">dbus_bool_t</a> dbus_connection_has_messages_to_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDBusConnection.html">DBusConnection</a> *</td>          <td class="paramname"><span class="paramname"><em>connection</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether there are messages in the outgoing message queue. </p>
<p>Use <a class="el" href="group__DBusConnection.html#ga10e68d9d2f41d655a4151ddeb807ff54" title="Blocks until the outgoing message queue is empty.">dbus_connection_flush()</a> to block until all outgoing messages have been written to the underlying transport (such as a socket).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>the connection. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__DBusMacros.html#gaa8cecfc5c5c054d2875c03e77b7be15d" title="Expands to &quot;1&quot;.">TRUE</a> if the outgoing queue is non-empty. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dbus-connection_8c_source.html#l00588">588</a> of file <a class="el" href="dbus-connection_8c_source.html">dbus-connection.c</a>.</p>

<p class="reference">References <a class="el" href="dbus-connection_8c_source.html#l00572">_dbus_connection_has_messages_to_send_unlocked()</a>, <a class="el" href="dbus-pending-call_8c_source.html#l00053">CONNECTION_LOCK</a>, <a class="el" href="dbus-pending-call_8c_source.html#l00057">CONNECTION_UNLOCK</a>, <a class="el" href="dbus-macros_8h_source.html#l00042">FALSE</a>, and <a class="el" href="dbus-macros_8h_source.html#l00049">NULL</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
